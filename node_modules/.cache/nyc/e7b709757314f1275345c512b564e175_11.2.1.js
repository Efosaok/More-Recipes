'use strict';var cov_145m0cp4u8=function(){var path='C:\\Users\\efosa\\Documents\\More-Recipes\\Server\\middlewares\\errors.js',hash='677ca19c317c7d90b380c72aec68d7c6cf8a5dfa',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'C:\\Users\\efosa\\Documents\\More-Recipes\\Server\\middlewares\\errors.js',statementMap:{'0':{start:{line:3,column:0},end:{line:5,column:3}},'1':{start:{line:6,column:19},end:{line:13,column:1}},'2':{start:{line:7,column:21},end:{line:7,column:68}},'3':{start:{line:8,column:2},end:{line:12,column:3}},'4':{start:{line:9,column:4},end:{line:9,column:16}},'5':{start:{line:11,column:4},end:{line:11,column:17}},'6':{start:{line:15,column:21},end:{line:63,column:1}},'7':{start:{line:16,column:2},end:{line:62,column:3}},'8':{start:{line:17,column:4},end:{line:17,column:71}},'9':{start:{line:19,column:22},end:{line:19,column:27}},'10':{start:{line:20,column:17},end:{line:20,column:22}},'11':{start:{line:21,column:23},end:{line:21,column:28}},'12':{start:{line:22,column:19},end:{line:22,column:23}},'13':{start:{line:23,column:20},end:{line:23,column:28}},'14':{start:{line:24,column:15},end:{line:24,column:29}},'15':{start:{line:25,column:19},end:{line:25,column:37}},'16':{start:{line:26,column:22},end:{line:26,column:43}},'17':{start:{line:27,column:18},end:{line:27,column:35}},'18':{start:{line:28,column:22},end:{line:28,column:43}},'19':{start:{line:30,column:4},end:{line:47,column:7}},'20':{start:{line:31,column:6},end:{line:33,column:7}},'21':{start:{line:32,column:8},end:{line:32,column:27}},'22':{start:{line:34,column:6},end:{line:36,column:7}},'23':{start:{line:35,column:8},end:{line:35,column:22}},'24':{start:{line:37,column:6},end:{line:41,column:7}},'25':{start:{line:38,column:8},end:{line:40,column:9}},'26':{start:{line:39,column:10},end:{line:39,column:27}},'27':{start:{line:42,column:6},end:{line:46,column:7}},'28':{start:{line:43,column:8},end:{line:45,column:9}},'29':{start:{line:44,column:10},end:{line:44,column:30}},'30':{start:{line:48,column:4},end:{line:50,column:5}},'31':{start:{line:49,column:6},end:{line:49,column:74}},'32':{start:{line:51,column:4},end:{line:53,column:5}},'33':{start:{line:52,column:6},end:{line:52,column:83}},'34':{start:{line:54,column:4},end:{line:56,column:5}},'35':{start:{line:55,column:6},end:{line:55,column:74}},'36':{start:{line:57,column:4},end:{line:61,column:5}},'37':{start:{line:58,column:6},end:{line:58,column:96}},'38':{start:{line:60,column:6},end:{line:60,column:13}},'39':{start:{line:65,column:25},end:{line:73,column:1}},'40':{start:{line:66,column:17},end:{line:66,column:36}},'41':{start:{line:68,column:2},end:{line:72,column:3}},'42':{start:{line:69,column:4},end:{line:69,column:69}},'43':{start:{line:71,column:4},end:{line:71,column:11}},'44':{start:{line:75,column:25},end:{line:107,column:1}},'45':{start:{line:76,column:2},end:{line:106,column:3}},'46':{start:{line:77,column:4},end:{line:77,column:69}},'47':{start:{line:79,column:22},end:{line:79,column:27}},'48':{start:{line:80,column:17},end:{line:80,column:22}},'49':{start:{line:81,column:18},end:{line:81,column:34}},'50':{start:{line:82,column:19},end:{line:82,column:38}},'51':{start:{line:84,column:4},end:{line:91,column:7}},'52':{start:{line:85,column:6},end:{line:87,column:7}},'53':{start:{line:86,column:8},end:{line:86,column:27}},'54':{start:{line:88,column:6},end:{line:90,column:7}},'55':{start:{line:89,column:8},end:{line:89,column:22}},'56':{start:{line:92,column:4},end:{line:94,column:5}},'57':{start:{line:93,column:6},end:{line:93,column:72}},'58':{start:{line:95,column:4},end:{line:97,column:5}},'59':{start:{line:96,column:6},end:{line:96,column:81}},'60':{start:{line:98,column:4},end:{line:100,column:5}},'61':{start:{line:99,column:6},end:{line:99,column:92}},'62':{start:{line:101,column:4},end:{line:105,column:5}},'63':{start:{line:102,column:6},end:{line:102,column:101}},'64':{start:{line:104,column:6},end:{line:104,column:13}},'65':{start:{line:109,column:0},end:{line:113,column:2}}},fnMap:{'0':{name:'alphaNumeric',decl:{start:{line:6,column:28},end:{line:6,column:40}},loc:{start:{line:6,column:51},end:{line:13,column:1}},line:6},'1':{name:'checkNullInput',decl:{start:{line:15,column:30},end:{line:15,column:44}},loc:{start:{line:15,column:61},end:{line:63,column:1}},line:15},'2':{name:'(anonymous_2)',decl:{start:{line:30,column:64},end:{line:30,column:65}},loc:{start:{line:30,column:80},end:{line:47,column:5}},line:30},'3':{name:'checkInvalidParams',decl:{start:{line:65,column:34},end:{line:65,column:52}},loc:{start:{line:65,column:69},end:{line:73,column:1}},line:65},'4':{name:'checkInvalidReview',decl:{start:{line:75,column:34},end:{line:75,column:52}},loc:{start:{line:75,column:69},end:{line:107,column:1}},line:75},'5':{name:'(anonymous_5)',decl:{start:{line:84,column:32},end:{line:84,column:33}},loc:{start:{line:84,column:50},end:{line:91,column:5}},line:84}},branchMap:{'0':{loc:{start:{line:8,column:2},end:{line:12,column:3}},type:'if',locations:[{start:{line:8,column:2},end:{line:12,column:3}},{start:{line:8,column:2},end:{line:12,column:3}}],line:8},'1':{loc:{start:{line:16,column:2},end:{line:62,column:3}},type:'if',locations:[{start:{line:16,column:2},end:{line:62,column:3}},{start:{line:16,column:2},end:{line:62,column:3}}],line:16},'2':{loc:{start:{line:31,column:6},end:{line:33,column:7}},type:'if',locations:[{start:{line:31,column:6},end:{line:33,column:7}},{start:{line:31,column:6},end:{line:33,column:7}}],line:31},'3':{loc:{start:{line:34,column:6},end:{line:36,column:7}},type:'if',locations:[{start:{line:34,column:6},end:{line:36,column:7}},{start:{line:34,column:6},end:{line:36,column:7}}],line:34},'4':{loc:{start:{line:37,column:6},end:{line:41,column:7}},type:'if',locations:[{start:{line:37,column:6},end:{line:41,column:7}},{start:{line:37,column:6},end:{line:41,column:7}}],line:37},'5':{loc:{start:{line:37,column:10},end:{line:37,column:45}},type:'binary-expr',locations:[{start:{line:37,column:10},end:{line:37,column:22}},{start:{line:37,column:26},end:{line:37,column:45}}],line:37},'6':{loc:{start:{line:38,column:8},end:{line:40,column:9}},type:'if',locations:[{start:{line:38,column:8},end:{line:40,column:9}},{start:{line:38,column:8},end:{line:40,column:9}}],line:38},'7':{loc:{start:{line:42,column:6},end:{line:46,column:7}},type:'if',locations:[{start:{line:42,column:6},end:{line:46,column:7}},{start:{line:42,column:6},end:{line:46,column:7}}],line:42},'8':{loc:{start:{line:42,column:10},end:{line:42,column:50}},type:'binary-expr',locations:[{start:{line:42,column:10},end:{line:42,column:22}},{start:{line:42,column:26},end:{line:42,column:50}}],line:42},'9':{loc:{start:{line:43,column:8},end:{line:45,column:9}},type:'if',locations:[{start:{line:43,column:8},end:{line:45,column:9}},{start:{line:43,column:8},end:{line:45,column:9}}],line:43},'10':{loc:{start:{line:48,column:4},end:{line:50,column:5}},type:'if',locations:[{start:{line:48,column:4},end:{line:50,column:5}},{start:{line:48,column:4},end:{line:50,column:5}}],line:48},'11':{loc:{start:{line:51,column:4},end:{line:53,column:5}},type:'if',locations:[{start:{line:51,column:4},end:{line:53,column:5}},{start:{line:51,column:4},end:{line:53,column:5}}],line:51},'12':{loc:{start:{line:54,column:4},end:{line:56,column:5}},type:'if',locations:[{start:{line:54,column:4},end:{line:56,column:5}},{start:{line:54,column:4},end:{line:56,column:5}}],line:54},'13':{loc:{start:{line:57,column:4},end:{line:61,column:5}},type:'if',locations:[{start:{line:57,column:4},end:{line:61,column:5}},{start:{line:57,column:4},end:{line:61,column:5}}],line:57},'14':{loc:{start:{line:68,column:2},end:{line:72,column:3}},type:'if',locations:[{start:{line:68,column:2},end:{line:72,column:3}},{start:{line:68,column:2},end:{line:72,column:3}}],line:68},'15':{loc:{start:{line:76,column:2},end:{line:106,column:3}},type:'if',locations:[{start:{line:76,column:2},end:{line:106,column:3}},{start:{line:76,column:2},end:{line:106,column:3}}],line:76},'16':{loc:{start:{line:85,column:6},end:{line:87,column:7}},type:'if',locations:[{start:{line:85,column:6},end:{line:87,column:7}},{start:{line:85,column:6},end:{line:87,column:7}}],line:85},'17':{loc:{start:{line:88,column:6},end:{line:90,column:7}},type:'if',locations:[{start:{line:88,column:6},end:{line:90,column:7}},{start:{line:88,column:6},end:{line:90,column:7}}],line:88},'18':{loc:{start:{line:92,column:4},end:{line:94,column:5}},type:'if',locations:[{start:{line:92,column:4},end:{line:94,column:5}},{start:{line:92,column:4},end:{line:94,column:5}}],line:92},'19':{loc:{start:{line:95,column:4},end:{line:97,column:5}},type:'if',locations:[{start:{line:95,column:4},end:{line:97,column:5}},{start:{line:95,column:4},end:{line:97,column:5}}],line:95},'20':{loc:{start:{line:98,column:4},end:{line:100,column:5}},type:'if',locations:[{start:{line:98,column:4},end:{line:100,column:5}},{start:{line:98,column:4},end:{line:100,column:5}}],line:98},'21':{loc:{start:{line:98,column:8},end:{line:98,column:87}},type:'binary-expr',locations:[{start:{line:98,column:8},end:{line:98,column:20}},{start:{line:98,column:24},end:{line:98,column:46}},{start:{line:98,column:50},end:{line:98,column:87}}],line:98},'22':{loc:{start:{line:101,column:4},end:{line:105,column:5}},type:'if',locations:[{start:{line:101,column:4},end:{line:105,column:5}},{start:{line:101,column:4},end:{line:105,column:5}}],line:101},'23':{loc:{start:{line:101,column:8},end:{line:101,column:77}},type:'binary-expr',locations:[{start:{line:101,column:8},end:{line:101,column:47}},{start:{line:101,column:51},end:{line:101,column:77}}],line:101}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0],'13':[0,0],'14':[0,0],'15':[0,0],'16':[0,0],'17':[0,0],'18':[0,0],'19':[0,0],'20':[0,0],'21':[0,0,0],'22':[0,0],'23':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_145m0cp4u8.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_145m0cp4u8.s[1]++;var alphaNumeric=function alphaNumeric(inputtxt){cov_145m0cp4u8.f[0]++;var letterNumber=(cov_145m0cp4u8.s[2]++,/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+[0-9a-z]+$/i);cov_145m0cp4u8.s[3]++;if(inputtxt.match(letterNumber)){cov_145m0cp4u8.b[0][0]++;cov_145m0cp4u8.s[4]++;return true;}else{cov_145m0cp4u8.b[0][1]++;cov_145m0cp4u8.s[5]++;return false;}};cov_145m0cp4u8.s[6]++;var checkNullInput=function checkNullInput(req,res,next){cov_145m0cp4u8.f[1]++;cov_145m0cp4u8.s[7]++;if(req.method!=='POST'){cov_145m0cp4u8.b[1][0]++;cov_145m0cp4u8.s[8]++;return res.status(300).send({message:'Invalid request method'});}else{cov_145m0cp4u8.b[1][1]++;var isUndefined=(cov_145m0cp4u8.s[9]++,false);var isNull=(cov_145m0cp4u8.s[10]++,false);var isWhiteSpace=(cov_145m0cp4u8.s[11]++,false);var isString=(cov_145m0cp4u8.s[12]++,true);var _req$body=(cov_145m0cp4u8.s[13]++,req.body),name=(cov_145m0cp4u8.s[14]++,_req$body.name),category=(cov_145m0cp4u8.s[15]++,_req$body.category),description=(cov_145m0cp4u8.s[16]++,_req$body.description),creator=(cov_145m0cp4u8.s[17]++,_req$body.creator),ingredients=(cov_145m0cp4u8.s[18]++,_req$body.ingredients);cov_145m0cp4u8.s[19]++;[name,category,description,creator,ingredients].forEach(function(info){cov_145m0cp4u8.f[2]++;cov_145m0cp4u8.s[20]++;if(info===undefined){cov_145m0cp4u8.b[2][0]++;cov_145m0cp4u8.s[21]++;isUndefined=true;}else{cov_145m0cp4u8.b[2][1]++;}cov_145m0cp4u8.s[22]++;if(info===''){cov_145m0cp4u8.b[3][0]++;cov_145m0cp4u8.s[23]++;isNull=true;}else{cov_145m0cp4u8.b[3][1]++;}cov_145m0cp4u8.s[24]++;if((cov_145m0cp4u8.b[5][0]++,!isUndefined)&&(cov_145m0cp4u8.b[5][1]++,!alphaNumeric(info))){cov_145m0cp4u8.b[4][0]++;cov_145m0cp4u8.s[25]++;if(Number.isInteger(parseFloat(info))){cov_145m0cp4u8.b[6][0]++;cov_145m0cp4u8.s[26]++;isString=false;}else{cov_145m0cp4u8.b[6][1]++;}}else{cov_145m0cp4u8.b[4][1]++;}cov_145m0cp4u8.s[27]++;if((cov_145m0cp4u8.b[8][0]++,!isUndefined)&&(cov_145m0cp4u8.b[8][1]++,typeof info!=='number')){cov_145m0cp4u8.b[7][0]++;cov_145m0cp4u8.s[28]++;if(info.replace(/\s/g,'').length===0){cov_145m0cp4u8.b[9][0]++;cov_145m0cp4u8.s[29]++;isWhiteSpace=true;}else{cov_145m0cp4u8.b[9][1]++;}}else{cov_145m0cp4u8.b[7][1]++;}});cov_145m0cp4u8.s[30]++;if(isUndefined){cov_145m0cp4u8.b[10][0]++;cov_145m0cp4u8.s[31]++;return res.status(400).send({error:'Please fill in all fields'});}else{cov_145m0cp4u8.b[10][1]++;}cov_145m0cp4u8.s[32]++;if(isNull){cov_145m0cp4u8.b[11][0]++;cov_145m0cp4u8.s[33]++;return res.status(400).send({error:'A field does not contain any input'});}else{cov_145m0cp4u8.b[11][1]++;}cov_145m0cp4u8.s[34]++;if(!isString){cov_145m0cp4u8.b[12][0]++;cov_145m0cp4u8.s[35]++;return res.status(400).send({error:'Only texts can be inputed'});}else{cov_145m0cp4u8.b[12][1]++;}cov_145m0cp4u8.s[36]++;if(isWhiteSpace){cov_145m0cp4u8.b[13][0]++;cov_145m0cp4u8.s[37]++;return res.status(400).send({error:'Your input should not contain only white-spaces'});}else{cov_145m0cp4u8.b[13][1]++;cov_145m0cp4u8.s[38]++;next();}}};cov_145m0cp4u8.s[39]++;var checkInvalidParams=function checkInvalidParams(req,res,next){cov_145m0cp4u8.f[3]++;var recipeId=(cov_145m0cp4u8.s[40]++,req.params.recipeId);cov_145m0cp4u8.s[41]++;if(!Number.isInteger(parseFloat(recipeId))){cov_145m0cp4u8.b[14][0]++;cov_145m0cp4u8.s[42]++;return res.status(400).send({error:'The url is not correct'});}else{cov_145m0cp4u8.b[14][1]++;cov_145m0cp4u8.s[43]++;next();}};cov_145m0cp4u8.s[44]++;var checkInvalidReview=function checkInvalidReview(req,res,next){cov_145m0cp4u8.f[4]++;cov_145m0cp4u8.s[45]++;if(req.method!=='POST'){cov_145m0cp4u8.b[15][0]++;cov_145m0cp4u8.s[46]++;return res.status(400).send({error:'Invalid request method'});}else{cov_145m0cp4u8.b[15][1]++;var isUndefined=(cov_145m0cp4u8.s[47]++,false);var isNull=(cov_145m0cp4u8.s[48]++,false);var reviews=(cov_145m0cp4u8.s[49]++,req.body.reviews);var recipeId=(cov_145m0cp4u8.s[50]++,req.params.recipeId);cov_145m0cp4u8.s[51]++;[reviews,recipeId].forEach(function(params){cov_145m0cp4u8.f[5]++;cov_145m0cp4u8.s[52]++;if(params===undefined){cov_145m0cp4u8.b[16][0]++;cov_145m0cp4u8.s[53]++;isUndefined=true;}else{cov_145m0cp4u8.b[16][1]++;}cov_145m0cp4u8.s[54]++;if(params===''){cov_145m0cp4u8.b[17][0]++;cov_145m0cp4u8.s[55]++;isNull=true;}else{cov_145m0cp4u8.b[17][1]++;}});cov_145m0cp4u8.s[56]++;if(isUndefined){cov_145m0cp4u8.b[18][0]++;cov_145m0cp4u8.s[57]++;return res.status(400).send({error:'No review message found'});}else{cov_145m0cp4u8.b[18][1]++;}cov_145m0cp4u8.s[58]++;if(isNull){cov_145m0cp4u8.b[19][0]++;cov_145m0cp4u8.s[59]++;return res.status(400).send({error:'Your review cannot be empty text'});}else{cov_145m0cp4u8.b[19][1]++;}cov_145m0cp4u8.s[60]++;if((cov_145m0cp4u8.b[21][0]++,!isUndefined)&&(cov_145m0cp4u8.b[21][1]++,!alphaNumeric(reviews))&&(cov_145m0cp4u8.b[21][2]++,Number.isInteger(parseFloat(reviews)))){cov_145m0cp4u8.b[20][0]++;cov_145m0cp4u8.s[61]++;return res.status(400).send({error:'Your reviews should be text and not numbers'});}else{cov_145m0cp4u8.b[20][1]++;}cov_145m0cp4u8.s[62]++;if((cov_145m0cp4u8.b[23][0]++,reviews.replace(/\s/g,'').length===0)&&(cov_145m0cp4u8.b[23][1]++,typeof review!=='number')){cov_145m0cp4u8.b[22][0]++;cov_145m0cp4u8.s[63]++;return res.status(400).send({error:'Your review message cannot contain only white spaces'});}else{cov_145m0cp4u8.b[22][1]++;cov_145m0cp4u8.s[64]++;next();}}};cov_145m0cp4u8.s[65]++;exports.default={checkNullInput:checkNullInput,checkInvalidReview:checkInvalidReview,checkInvalidParams:checkInvalidParams};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9ycy5qcyJdLCJuYW1lcyI6WyJhbHBoYU51bWVyaWMiLCJpbnB1dHR4dCIsImxldHRlck51bWJlciIsIm1hdGNoIiwiY2hlY2tOdWxsSW5wdXQiLCJyZXEiLCJyZXMiLCJuZXh0IiwibWV0aG9kIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJpc1VuZGVmaW5lZCIsImlzTnVsbCIsImlzV2hpdGVTcGFjZSIsImlzU3RyaW5nIiwiYm9keSIsIm5hbWUiLCJjYXRlZ29yeSIsImRlc2NyaXB0aW9uIiwiY3JlYXRvciIsImluZ3JlZGllbnRzIiwiZm9yRWFjaCIsImluZm8iLCJ1bmRlZmluZWQiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJwYXJzZUZsb2F0IiwicmVwbGFjZSIsImxlbmd0aCIsImVycm9yIiwiY2hlY2tJbnZhbGlkUGFyYW1zIiwicmVjaXBlSWQiLCJwYXJhbXMiLCJjaGVja0ludmFsaWRSZXZpZXciLCJyZXZpZXdzIiwicmV2aWV3Il0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQU1BLGVBQWUsU0FBZkEsWUFBZSxDQUFDQyxRQUFELEVBQWM7QUFDakMsTUFBTUMsZUFBZSwrQ0FBckI7QUFDQSxNQUFJRCxTQUFTRSxLQUFULENBQWVELFlBQWYsQ0FBSixFQUFrQztBQUNoQyxXQUFPLElBQVA7QUFDRCxHQUZELE1BRU87QUFDTCxXQUFPLEtBQVA7QUFDRDtBQUNGLENBUEQ7O0FBU0EsSUFBTUUsaUJBQWlCLFNBQWpCQSxjQUFpQixDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxFQUFvQjtBQUN6QyxNQUFJRixJQUFJRyxNQUFKLEtBQWUsTUFBbkIsRUFBMkI7QUFDekIsV0FBT0YsSUFBSUcsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQUVDLFNBQVMsd0JBQVgsRUFBckIsQ0FBUDtBQUNELEdBRkQsTUFFTztBQUNMLFFBQUlDLGNBQWMsS0FBbEI7QUFDQSxRQUFJQyxTQUFTLEtBQWI7QUFDQSxRQUFJQyxl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IiwiZmlsZSI6ImVycm9ycy5qcyIsInNvdXJjZVJvb3QiOiJDOi9Vc2Vycy9lZm9zYS9Eb2N1bWVudHMvTW9yZS1SZWNpcGVzL1NlcnZlci9taWRkbGV3YXJlcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFscGhhTnVtZXJpYyA9IChpbnB1dHR4dCkgPT4ge1xyXG4gIGNvbnN0IGxldHRlck51bWJlciA9IC8oKF5bMC05XStbYS16XSspfCheW2Etel0rWzAtOV0rKSkrWzAtOWEtel0rJC9pO1xyXG4gIGlmIChpbnB1dHR4dC5tYXRjaChsZXR0ZXJOdW1iZXIpKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGNoZWNrTnVsbElucHV0ID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMzAwKS5zZW5kKHsgbWVzc2FnZTogJ0ludmFsaWQgcmVxdWVzdCBtZXRob2QnIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBsZXQgaXNVbmRlZmluZWQgPSBmYWxzZTtcclxuICAgIGxldCBpc051bGwgPSBmYWxzZTtcclxuICAgIGxldCBpc1doaXRlU3BhY2UgPSBmYWxzZTtcclxuICAgIGxldCBpc1N0cmluZyA9IHRydWU7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGNhdGVnb3J5LFxyXG4gICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgY3JlYXRvcixcclxuICAgICAgaW5ncmVkaWVudHMsXHJcbiAgICB9ID0gcmVxLmJvZHk7XHJcbiAgICBbbmFtZSwgY2F0ZWdvcnksIGRlc2NyaXB0aW9uLCBjcmVhdG9yLCBpbmdyZWRpZW50c10uZm9yRWFjaCgoaW5mbykgPT4ge1xyXG4gICAgICBpZiAoaW5mbyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaXNVbmRlZmluZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpbmZvID09PSAnJykge1xyXG4gICAgICAgIGlzTnVsbCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFpc1VuZGVmaW5lZCAmJiAhYWxwaGFOdW1lcmljKGluZm8pKSB7XHJcbiAgICAgICAgaWYgKE51bWJlci5pc0ludGVnZXIocGFyc2VGbG9hdChpbmZvKSkpIHtcclxuICAgICAgICAgIGlzU3RyaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmICghaXNVbmRlZmluZWQgJiYgdHlwZW9mIGluZm8gIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgaWYgKGluZm8ucmVwbGFjZSgvXFxzL2csICcnKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIGlzV2hpdGVTcGFjZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGlmIChpc1VuZGVmaW5lZCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBlcnJvcjogJ1BsZWFzZSBmaWxsIGluIGFsbCBmaWVsZHMnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzTnVsbCkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBlcnJvcjogJ0EgZmllbGQgZG9lcyBub3QgY29udGFpbiBhbnkgaW5wdXQnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpc1N0cmluZykge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBlcnJvcjogJ09ubHkgdGV4dHMgY2FuIGJlIGlucHV0ZWQnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzV2hpdGVTcGFjZSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBlcnJvcjogJ1lvdXIgaW5wdXQgc2hvdWxkIG5vdCBjb250YWluIG9ubHkgd2hpdGUtc3BhY2VzJyB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG5leHQoKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0ludmFsaWRQYXJhbXMgPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBjb25zdCB7IHJlY2lwZUlkIH0gPSByZXEucGFyYW1zO1xyXG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcihwYXJzZUZsb2F0KHJlY2lwZUlkKSkpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IGVycm9yOiAnVGhlIHVybCBpcyBub3QgY29ycmVjdCcgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIG5leHQoKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0ludmFsaWRSZXZpZXcgPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoeyBlcnJvcjogJ0ludmFsaWQgcmVxdWVzdCBtZXRob2QnIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBsZXQgaXNVbmRlZmluZWQgPSBmYWxzZTtcclxuICAgIGxldCBpc051bGwgPSBmYWxzZTtcclxuICAgIGNvbnN0IHsgcmV2aWV3cyB9ID0gcmVxLmJvZHk7XHJcbiAgICBjb25zdCB7IHJlY2lwZUlkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgW3Jldmlld3MsIHJlY2lwZUlkXS5mb3JFYWNoKChwYXJhbXMpID0+IHtcclxuICAgICAgaWYgKHBhcmFtcyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaXNVbmRlZmluZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChwYXJhbXMgPT09ICcnKSB7XHJcbiAgICAgICAgaXNOdWxsID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAoaXNVbmRlZmluZWQpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsgZXJyb3I6ICdObyByZXZpZXcgbWVzc2FnZSBmb3VuZCcgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNOdWxsKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IGVycm9yOiAnWW91ciByZXZpZXcgY2Fubm90IGJlIGVtcHR5IHRleHQnIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpc1VuZGVmaW5lZCAmJiAhYWxwaGFOdW1lcmljKHJldmlld3MpICYmIE51bWJlci5pc0ludGVnZXIocGFyc2VGbG9hdChyZXZpZXdzKSkpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHsgZXJyb3I6ICdZb3VyIHJldmlld3Mgc2hvdWxkIGJlIHRleHQgYW5kIG5vdCBudW1iZXJzJyB9KTtcclxuICAgIH1cclxuICAgIGlmIChyZXZpZXdzLnJlcGxhY2UoL1xccy9nLCAnJykubGVuZ3RoID09PSAwICYmIHR5cGVvZiByZXZpZXcgIT09ICdudW1iZXInKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7IGVycm9yOiAnWW91ciByZXZpZXcgbWVzc2FnZSBjYW5ub3QgY29udGFpbiBvbmx5IHdoaXRlIHNwYWNlcycgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuZXh0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGNoZWNrTnVsbElucHV0LFxyXG4gIGNoZWNrSW52YWxpZFJldmlldyxcclxuICBjaGVja0ludmFsaWRQYXJhbXMsXHJcbn07XHJcbiJdfQ==